{% extends 'base.html' %}

{% block title %}Home{% endblock %}

{% block content %}
<div class="flex space-x-4">
    <!-- Sidebar: Profile -->
    <div class="w-1/4 bg-white shadow-md p-4 rounded-lg">
        <img src="{{ user.profile.image_url }}" alt="Profile Picture" class="rounded-full w-24 h-24 mx-auto">
        <h2 class="text-center font-bold mt-4">{{ user.username }}</h2>
        <p class="text-center text-gray-600">{{ user.profile.bio }}</p>
    </div>

    <!-- Recent Diaries -->
    <div class="w-1/3 bg-white shadow-md p-4 rounded-lg">
        <h3 class="text-lg font-semibold mb-4">Recent Diaries</h3>
        <ul>
            {% for diary in recent_diaries %}
                <li>{{ diary.date }}: {{ diary.content|truncatewords:10 }}</li>
            {% endfor %}
        </ul>
    </div>

    <!-- Emotion Analysis Graph -->
    <div class="w-1/3 bg-white shadow-md p-4 rounded-lg">
        <h3 class="text-lg font-semibold mb-4">Emotion Analysis</h3>
        <div id="emotionGraph"></div>
    </div>
</div>

<!-- Diary Calendar -->
<div class="mt-6 bg-white shadow-md p-4 rounded-lg">
    <h3 class="text-lg font-semibold mb-4">Diary Calendar</h3>
    <div class="grid grid-cols-7 gap-1">
        {% for day in calendar_days %}
            <div class="w-6 h-6 rounded-full" style="background-color: {{ day.color }};">
                {{ day.day }}
            </div>
        {% endfor %}
    </div>
</div>
{% endblock %}
